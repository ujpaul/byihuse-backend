{"version":3,"sources":["webpack:///./src/views/Sessions/SignIn.vue?46fb","webpack:///src/views/Sessions/SignIn.vue","webpack:///./src/views/Sessions/SignIn.vue?0224","webpack:///./src/views/Sessions/SignIn.vue","webpack:///./src/api/auth.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","emailRules","model","value","callback","$$v","Email","expression","password","RememberMe","checkbox","on","$event","stopPropagation","preventDefault","signin","apply","arguments","$i18n","locale","staticRenderFns","data","methods","component","res","api","post","signup","console","log","updateName","put","updateEmail","updatePassword","updateDepartments"],"mappings":"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","file":"js/chunk-7daf5af6.907cbe3c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"emb-signIn-wrap section-gap\"},[_c('div',{staticClass:\"container py-0\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"md12\":\"\",\"lg8\":\"\",\"xl7\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"mx-sm-0\":\"\",\"mx-3\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm10\":\"\",\"md5\":\"\",\"lg5\":\"\",\"xl6\":\"\"}},[_c('div',{staticClass:\"emb-card sign-in-form form-margin d-block white pa-6\"},[_c('h4',[_vm._v(_vm._s(_vm.$t(\"message.UserSignIn\")))]),_c('v-form',[_c('v-text-field',{attrs:{\"type\":\"email\",\"placeholder\":\"Email*\",\"rules\":_vm.emailRules},model:{value:(_vm.Email),callback:function ($$v) {_vm.Email=$$v},expression:\"Email\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"placeholder\":\"Password*\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"layout align-center justify-space-between\"},[_c('v-checkbox',{attrs:{\"label\":_vm.$t(_vm.RememberMe)},model:{value:(_vm.checkbox),callback:function ($$v) {_vm.checkbox=$$v},expression:\"checkbox\"}})],1),_c('v-btn',{staticClass:\"accent mb-3 ma-0\",attrs:{\"large\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.signin.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t(\"message.SignIn\")))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"message.DontHaveaccount\"))+\" \"),_c('router-link',{staticClass:\"accent--text\",attrs:{\"to\":'/'+_vm.$i18n.locale+'/session/signup'}},[_vm._v(_vm._s(_vm.$t(\"message.Clickheretocreateone\")))])],1)],1)],1)])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"emb-signIn-wrap section-gap\">\n    <div class=\"container py-0\">\n      <v-layout row wrap align-center justify-center>\n        <v-flex sm12 md12 lg8 xl7>\n          <v-layout row mx-sm-0 mx-3 wrap align-center justify-center>\n            <!-- <v-flex sm6 md7 lg6 xl6 hidden-sm-and-down>\n\t\t\t\t\t\t\t<div class=\"form-img sign-in-image\"></div>\n            </v-flex>-->\n            <v-flex sm10 md5 lg5 xl6>\n              <div class=\"emb-card sign-in-form form-margin d-block white pa-6\">\n                <h4>{{$t(\"message.UserSignIn\")}}</h4>\n                <v-form>\n                  <v-text-field\n                    type=\"email\"\n                    placeholder=\"Email*\"\n                    :rules=\"emailRules\"\n                    v-model=\"Email\"\n                  ></v-text-field>\n                  <v-text-field type=\"password\" placeholder=\"Password*\" v-model=\"password\"></v-text-field>\n                  <div class=\"layout align-center justify-space-between\">\n                    <v-checkbox v-model=\"checkbox\" :label=\"$t(RememberMe)\"></v-checkbox>\n                    <!-- <router-link to=\"/session/forgot-password\" class=\" text-lg-right\">Forgot Password ?</router-link> -->\n                  </div>\n                  <v-btn\n                    class=\"accent mb-3 ma-0\"\n                    large\n                    @click.stop.prevent=\"signin\"\n                  >{{$t(\"message.SignIn\")}}</v-btn>\n                  <p>\n                    {{$t(\"message.DontHaveaccount\")}}\n                    <router-link\n                      :to=\"'/'+$i18n.locale+'/session/signup'\"\n                      class=\"accent--text\"\n                    >{{$t(\"message.Clickheretocreateone\")}}</router-link>\n                  </p>\n                </v-form>\n              </div>\n            </v-flex>\n          </v-layout>\n        </v-flex>\n      </v-layout>\n    </div>\n  </div>\n</template>\n<script>\nimport auth from \"Api/auth\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      checkbox: false,\n      Email: \"\",\n      password: \"\",\n      RememberMe: \"message.RememberMe\",\n      emailRules: [\n        v => !!v || \"E-mail is required\",\n        v => /.+@.+/.test(v) || \"E-mail must be valid\"\n      ]\n    };\n  },\n  methods: {\n    async signin() {\n      try {\n        const res = await auth.signin({\n          email: this.Email,\n          password: this.password\n        });\n        const data = res.data;\n        console.log(\"logged user data:\", data);\n        const localData = {\n          firstName: data.data.user.firstName,\n          lastName: data.data.user.lastName,\n          role: data.data.user.role,\n          email: data.data.user.email,\n          id: data.data.user.id,\n          departments: data.data.user.assignedDepartments,\n          now: data.data.token\n        };\n        localStorage.setItem(\"data\", JSON.stringify(localData));\n        axios.defaults.headers.common[\n          \"Authorization\"\n        ] = `Bearer ${data.data.token}`;\n        localStorage.setItem(\"now\", data.data.token);\n        this.$snotify.success(\"SignIn process succesfully done\", {\n          closeOnClick: false,\n          pauseOnHover: false,\n          timeout: 1000,\n          showProgressBar: false\n        });\n        // console.log(JSON.parse(localStorage.getItem('data')))\n        // this.$router.push('');\n        // location.reload(true)\n        this.$store.state.user = true;\n        // console.log(`/${this.$i18n.locale}/account/profile`)\n        this.$router.push(`/${this.$i18n.locale}/account/profile/`);\n      } catch (err) {\n        console.log(err);\n        this.$snotify.error(\"invalid Input\", {\n          closeOnClick: false,\n          pauseOnHover: false,\n          timeout: 1000,\n          showProgressBar: false\n        });\n      }\n    }\n  }\n};\n</script>\t\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=09e7755c&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import api from './index.js'\n\nexport default {\n  async signin (data) {\n    const res= api().post('/api/auth/signin', data)\n    return res\n  },\n  async signup (data) {\n    const res= api().post('/api/auth/signup', data)\n    console.log(res)\n    return res\n  },\n  async updateName (data) {\n    return api().put('/api/auth/name', data)\n  },\n  async updateEmail (data) {\n    return api().put('/api/auth/email', data)\n  },\n  async updatePassword (data) {\n    return api().put('/api/auth/password', data)\n  },\n  async updateDepartments (data) {\n    return api().put('/api/auth/departments', data)\n  }\n}\n"],"sourceRoot":""}