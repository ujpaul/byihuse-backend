(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7daf5af6"],{"0a26":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"emb-signIn-wrap section-gap"},[a("div",{staticClass:"container py-0"},[a("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{sm12:"",md12:"",lg8:"",xl7:""}},[a("v-layout",{attrs:{row:"","mx-sm-0":"","mx-3":"",wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{sm10:"",md5:"",lg5:"",xl6:""}},[a("div",{staticClass:"emb-card sign-in-form form-margin d-block white pa-6"},[a("h4",[e._v(e._s(e.$t("message.UserSignIn")))]),a("v-form",[a("v-text-field",{attrs:{type:"email",placeholder:"Email*",rules:e.emailRules},model:{value:e.Email,callback:function(t){e.Email=t},expression:"Email"}}),a("v-text-field",{attrs:{type:"password",placeholder:"Password*"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"layout align-center justify-space-between"},[a("v-checkbox",{attrs:{label:e.$t(e.RememberMe)},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1),a("v-btn",{staticClass:"accent mb-3 ma-0",attrs:{large:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.signin.apply(null,arguments)}}},[e._v(e._s(e.$t("message.SignIn")))]),a("p",[e._v(" "+e._s(e.$t("message.DontHaveaccount"))+" "),a("router-link",{staticClass:"accent--text",attrs:{to:"/"+e.$i18n.locale+"/session/signup"}},[e._v(e._s(e.$t("message.Clickheretocreateone")))])],1)],1)],1)])],1)],1)],1)],1)])},n=[],s=a("1da1"),i=(a("96cf"),a("3786")),c=a("bc3a"),u=a.n(c),o={data:function(){return{checkbox:!1,Email:"",password:"",RememberMe:"message.RememberMe",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}},methods:{signin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].signin({email:e.Email,password:e.password});case 3:a=t.sent,r=a.data,console.log("logged user data:",r),n={firstName:r.data.user.firstName,lastName:r.data.user.lastName,role:r.data.user.role,email:r.data.user.email,id:r.data.user.id,departments:r.data.user.assignedDepartments,now:r.data.token},localStorage.setItem("data",JSON.stringify(n)),u.a.defaults.headers.common["Authorization"]="Bearer ".concat(r.data.token),localStorage.setItem("now",r.data.token),e.$snotify.success("SignIn process succesfully done",{closeOnClick:!1,pauseOnHover:!1,timeout:1e3,showProgressBar:!1}),e.$store.state.user=!0,e.$router.push("/".concat(e.$i18n.locale,"/account/profile/")),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0),e.$snotify.error("invalid Input",{closeOnClick:!1,pauseOnHover:!1,timeout:1e3,showProgressBar:!1});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},l=o,p=a("2877"),m=Object(p["a"])(l,r,n,!1,null,null,null);t["default"]=m.exports},3786:function(e,t,a){"use strict";var r=a("1da1"),n=(a("96cf"),a("365c"));t["a"]={signin:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/auth/signin",e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})))()},signup:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/auth/signup",e),console.log(a),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})))()},updateName:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])().put("/api/auth/name",e));case 1:case"end":return t.stop()}}),t)})))()},updateEmail:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])().put("/api/auth/email",e));case 1:case"end":return t.stop()}}),t)})))()},updatePassword:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])().put("/api/auth/password",e));case 1:case"end":return t.stop()}}),t)})))()},updateDepartments:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])().put("/api/auth/departments",e));case 1:case"end":return t.stop()}}),t)})))()}}}}]);
//# sourceMappingURL=chunk-7daf5af6.907cbe3c.js.map