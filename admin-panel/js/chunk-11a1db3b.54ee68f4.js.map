{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/components/Widgets/agent.vue?c6a1","webpack:///./src/views/AdminPanel/agent.vue?0c49","webpack:///./src/components/Widgets/agent.vue?07a3","webpack:///src/components/Widgets/agent.vue","webpack:///./src/components/Widgets/agent.vue?8bed","webpack:///./src/components/Widgets/agent.vue","webpack:///src/views/AdminPanel/agent.vue","webpack:///./src/views/AdminPanel/agent.vue?139e","webpack:///./src/views/AdminPanel/agent.vue","webpack:///./src/api/auth.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","model","callback","$$v","search","expression","staticRenderFns","headers","messageList","scopedSlots","_u","ref","item","_s","balance","on","$event","checkPaymentHistrory","history","payAnAGentOPen","openHistroy","PaymentHistory","paymentHistoryData","open","Paymoney","paymentMethod","payment","loading","payAgent","payAgentt","selectedAgent","firstName","lastName","email","code","payingMethod","ondeleteItemFromInvoicesList","props","default","type","String","data","editDialog","invoiceList","selectDeletedItem","methods","deleteItemFromInvoicesList","$refs","deleteConfirmationDialog","openDialog","close","splice","index","component","signin","res","api","post","getAllAgents","get","signup","PayAgent","id","put","updateName","updateEmail","updatePassword","updateDepartments"],"mappings":"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","file":"js/chunk-11a1db3b.54ee68f4.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=style&index=0&id=601d2f49&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=style&index=0&id=601d2f49&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-4 pt-0 emb-card mb-6\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"5\",\"lg\":\"5\"}},[_c('h4',{staticClass:\"mb-6\"},[_vm._v(\"All agents\")])]),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"5\",\"lg\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1)],1),_c('div',{staticClass:\"emb-card pa-4\"},[_c('agent',{attrs:{\"search\":_vm.search}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-responsive\"},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.messageList,\"items-per-page\":15,\"search\":_vm.search,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"item.balance\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('a',{staticClass:\"accent--text\"},[_vm._v(_vm._s(item.balance))])]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"pay primary\",attrs:{\"tile\":\"\",\"small\":\"\",\"elevation\":\"0\"},on:{\"click\":function($event){return _vm.checkPaymentHistrory(item.history)}}},[_vm._v(\" History \")]),_c('v-btn',{staticClass:\"ml-2 pay primary\",attrs:{\"tile\":\"\",\"small\":\"\",\"elevation\":\"0\"},on:{\"click\":function($event){return _vm.payAnAGentOPen(item)}}},[_vm._v(\" Pay agent \")])]}}])}),_c('v-dialog',{attrs:{\"max-width\":\"800\"},model:{value:(_vm.openHistroy),callback:function ($$v) {_vm.openHistroy=$$v},expression:\"openHistroy\"}},[_c('v-card',{staticClass:\"py-6 px-4\"},[_c('v-data-table',{attrs:{\"headers\":_vm.PaymentHistory,\"items\":_vm.paymentHistoryData,\"items-per-page\":15,\"search\":_vm.search,\"align\":\"center\"}}),_c('div',{staticClass:\"paymethod\"},[_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){_vm.openHistroy= false}}},[_vm._v(\"Close\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"py-6 px-4\"},[_c('div',{staticClass:\"flexDirection\"},[_c('div',{staticClass:\"input\"},[_c('v-text-field',{attrs:{\"label\":\"RWF Amount\",\"id\":\"input\",\"solo\":\"\"},model:{value:(_vm.Paymoney),callback:function ($$v) {_vm.Paymoney=$$v},expression:\"Paymoney\"}})],1),_c('v-select',{attrs:{\"label\":\"payment method\",\"items\":_vm.paymentMethod},model:{value:(_vm.payment),callback:function ($$v) {_vm.payment=$$v},expression:\"payment\"}})],1),_c('v-card-actions',{staticClass:\"layout justify-center\"},[_c('v-btn',{attrs:{\"loading\":_vm.loading,\"color\":\"primary\"},on:{\"click\":function($event){_vm.open= false,_vm.payAgent= false}}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"loading\":_vm.loading,\"color\":\"accent\"},on:{\"click\":_vm.payAgentt}},[_vm._v(\"OK\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.payAgent),callback:function ($$v) {_vm.payAgent=$$v},expression:\"payAgent\"}},[_c('v-card',{staticClass:\"py-6 px-4\"},[_c('div',{attrs:{\"id\":\"card\"}},[_c('div',{staticClass:\"froom\"},[_c('div',{staticClass:\"tite\"},[_vm._v(\" First Name: \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.selectedAgent.firstName)+\" \")])]),_c('div',{staticClass:\"froom\"},[_c('div',{staticClass:\"tite\"},[_vm._v(\"last Name:\")]),_c('div',[_vm._v(_vm._s(_vm.selectedAgent.lastName))])]),_c('div',{staticClass:\"froom\"},[_c('div',{staticClass:\"tite\"},[_vm._v(\"Email:\")]),_c('div',[_vm._v(_vm._s(_vm.selectedAgent.email))])]),_c('div',{staticClass:\"froom\"},[_c('di',{staticClass:\"tite\"},[_vm._v(\"Code:\")]),_c('di',[_vm._v(_vm._s(_vm.selectedAgent.code))])],1),_c('div',{staticClass:\"froom\"},[_c('div',{staticClass:\"tite\"},[_vm._v(\"Balance:\")]),_c('div',{staticClass:\"accent--text\"},[_vm._v(_vm._s(_vm.selectedAgent.balance))])]),_c('div',{staticClass:\"maakeItCenter mb-4\"},[_c('v-btn',{staticClass:\"accent mt-2 ml-3\",on:{\"click\":_vm.payingMethod}},[_vm._v(\"make Payment\")])],1),_c('div',{staticClass:\"maakeItCenter\"},[_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){_vm.payAgent= false}}},[_vm._v(\"close\")])],1)])])],1),_c('emb-delete-confirmation-2',{ref:\"deleteConfirmationDialog\",attrs:{\"messageTitle\":\"Are You Sure You Want To Delete?\",\"messageDescription\":\"Are you sure you want to delete this invoice permanently?\",\"btn1\":\"Cancel\",\"btn2\":\"Yes\"},on:{\"onConfirm\":_vm.ondeleteItemFromInvoicesList}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"table-responsive\" >\r\n\t\t<v-data-table\r\n\t\t\t:headers=\"headers\"\r\n\t\t\t:items=\"messageList\"\r\n\t\t\t:items-per-page=\"15\"\r\n\t\t\t:search=\"search\"\r\n\t\t\talign='center'\r\n\t\t>\r\n\t\t\t<!-- <template v-slot:item.action=\"{ item }\" >\r\n\t\t\t\t<v-btn @click=\"openMessage(item)\" text icon color=\"grey\" class=\"mr-3\"   small slot=\"activator\">\r\n\t\t\t\t\t<v-icon class=\"primary--text\">remove_red_eye</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn text icon color=\"grey\" small  @click=\"deleteItemFromInvoicesList(item)\" slot=\"activator\">\r\n\t\t\t\t\t<v-icon class=\"error--text\">delete</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t</template> -->\r\n\t\t\t<template v-slot:item.balance=\"{item}\">\r\n\t\t\t\t<!-- <v-btn  tile small elevation=\"0\" class=\"pay accent\">\r\n\t\t\t\t\t{{item.balance}}\r\n\t\t\t\t</v-btn> -->\r\n\t\t\t\t<a class=\"accent--text\">{{item.balance}}</a>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:item.action=\"{item}\">\r\n\t\t\t\t<v-btn @click=\"checkPaymentHistrory(item.history)\" tile small elevation=\"0\" class=\"pay primary\">\r\n\t\t\t\t\tHistory\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn @click=\"payAnAGentOPen(item)\" tile small elevation=\"0\" class=\"ml-2 pay primary\">\r\n\t\t\t\t\tPay agent\r\n\t\t\t\t</v-btn>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t\t<v-dialog  max-width=\"800\" v-model=\"openHistroy\">\r\n\t\t\t<v-card class=\"py-6 px-4\">\r\n\t\t\t\t<v-data-table\r\n\t\t\t\t:headers=\"PaymentHistory\"\r\n\t\t\t    :items=\"paymentHistoryData\"\r\n\t\t\t    :items-per-page=\"15\"\r\n\t\t\t    :search=\"search\"\r\n\t\t\t    align='center'\r\n\t\t\t\t>\r\n\r\n\t\t\t\t</v-data-table>\r\n\t\t\t\t<div class=\"paymethod\">\r\n\t\t\t\t\t<v-btn @click=\"openHistroy= false\" class=\"primary\">Close</v-btn>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</v-card>\r\n\t\t</v-dialog>\r\n        \t<v-dialog v-model=\"open\" max-width=\"400\">\r\n\t\t<v-card class=\"py-6 px-4\">\r\n\t\t\t<div class=\"flexDirection\">\r\n\t\t\t\t<div class=\"input\">\r\n\t\t\t\t\t\t<v-text-field label=\"RWF Amount\" v-model=\"Paymoney\" id=\"input\"  solo></v-text-field>   \r\n\t\t\t    </div>\r\n\t\t\t   <v-select label=\"payment method\" v-model=\"payment\" :items=\"paymentMethod\"></v-select>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<v-card-actions class=\"layout justify-center\">\r\n\t\t\t\t<v-btn :loading=\"loading\" color=\"primary\" @click=\"open= false,payAgent= false\">Close</v-btn>\r\n\t\t\t\t<v-btn :loading=\"loading\" color=\"accent\" @click=\"payAgentt\">OK</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t</v-dialog>\r\n\t<v-dialog max-width=\"500\"  v-model=\"payAgent\">\r\n\t\t<v-card  class=\"py-6 px-4\">\r\n\t\t\t<div id=\"card\">\r\n\t\t\t\t<div class=\"froom\">\r\n\t\t\t\t    <div class=\"tite\">\r\n\t\t\t\t\t\tFirst Name:\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{{selectedAgent.firstName}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"froom\">\r\n\t\t\t\t\t<div class=\"tite\">last Name:</div>\r\n\t\t\t\t<div>{{selectedAgent.lastName}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"froom\">\r\n\t\t\t\t\t<div class=\"tite\">Email:</div>\r\n\t\t\t\t\t<div>{{selectedAgent.email}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"froom\">\r\n\t\t\t\t\t<di class=\"tite\">Code:</di>\r\n\t\t\t\t\t<di>{{selectedAgent.code}}</di>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"froom\">\r\n\t\t\t\t\t<div class=\"tite\">Balance:</div>\r\n\t\t\t\t\t<div class=\"accent--text\">{{selectedAgent.balance}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"maakeItCenter mb-4\">\r\n\t\t\t\t\t<v-btn @click=\"payingMethod\" class=\"accent mt-2 ml-3\">make Payment</v-btn>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"maakeItCenter\">\r\n\t\t\t\t\t<v-btn class=\"primary\" @click=\"payAgent= false\">close</v-btn>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</v-card>\r\n\t</v-dialog>\r\n\t\t<emb-delete-confirmation-2\r\n\t\t\tref=\"deleteConfirmationDialog\"\r\n\t\t\tmessageTitle=\"Are You Sure You Want To Delete?\"\r\n\t\t\tmessageDescription=\"Are you sure you want to delete this invoice permanently?\"\r\n\t\t\t@onConfirm=\"ondeleteItemFromInvoicesList\"\r\n\t\t\tbtn1=\"Cancel\"\r\n\t\t\tbtn2=\"Yes\"\r\n\t\t>\r\n\t\t</emb-delete-confirmation-2>\r\n\t</div>\r\n</template>\r\n<style  scoped>\r\n.paymethod{\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n#products{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\t/* text-align: center; */\r\n\talign-items: center;\r\n\tmargin-top: 10px;\r\n}\r\n#tittle{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n.froom{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\r\n}\r\n.froom div{\r\n\tline-height: 30px;\r\n}\r\n.maakeItCenter{\r\n\t/* text-align: center; */\r\n\tdisplay: flex;\r\n\t/* align-items: center; */\r\n\tjustify-content: center;\r\n\t/* height: 50px; */\r\n}\r\n/* .maakeItCenter button */\r\n.input{\r\n\twidth: 180px;\r\n\tmargin-right: 20px;\r\n}\r\n.flexDirection{\r\n\tdisplay: flex;\r\n}\r\n.tite{\r\n\tfont-size: 15px;\r\n\tfont-weight: 500;\r\n}\r\n/* #producr{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n} */\r\n</style>\r\n<script>\r\nimport auth from \"Api/auth\";\r\nimport moment from \"moment\"\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n\tcomputed: {\r\n\t\t\t...mapGetters([\"linksformbackend\"])\r\n\t\t},\r\n  props: {\r\n    search: {\r\n      default: null,\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n        selectedMessage: '',\r\n        open:null,\r\n\t\tDepartments: [\r\n            'SENT',\r\n            'RECEIVED',\r\n            'CANCELED',\r\n            'TECHNICIAN-ON-THE-WAY',\r\n            'TECHNICIAN-AT-SITE',\r\n            'JOB-DONE'\r\n        ],\r\n      editDialog: false,\r\n      invoiceList: null,\r\n      headers: [\r\n        // {\r\n        //   text: \"Invoice ID\",\r\n        //   sortable: false,\r\n        //   value: \"invoiceId\"\r\n\t\t// },\r\n\t\t{\r\n          text: \"First Name\",\r\n          sortable: false,\r\n          value: \"firstName\"\r\n\t\t},\r\n\t\t{\r\n          text: \"Last Name\",\r\n          sortable: false,\r\n          value: \"lastName\"\r\n        },\r\n\t\t{\r\n          text: \"Email\",\r\n          sortable: false,\r\n          value: \"email\"\r\n        },\r\n\t\t{\r\n          text: \"Approved\",\r\n          sortable: false,\r\n          value: \"approved\"\r\n        },\r\n        {\r\n          text: \"Code\",\r\n          sortable: false,\r\n          value: \"code\"\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext:\"balance\",\r\n\t\t\tsortable: false,\r\n\t\t\tvalue: \"balance\"\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext:\"Action\",\r\n\t\t\tsortable: false,\r\n\t\t\tvalue: \"action\"\r\n\t\t}\r\n\t  ],\r\n\t  \tPaymentHistory:[\r\n\t\t{\r\n          text: \"Time\",\r\n          sortable: false,\r\n          value: \"time\"\r\n        },\r\n\t\t{\r\n          text: \"Amount\",\r\n          sortable: false,\r\n          value: \"amount\"\r\n        },\r\n\t\t{\r\n          text: \"Payment method\",\r\n          sortable: false,\r\n          value: \"paymentmethod\"\r\n        },\r\n        {\r\n          text: \"balance\",\r\n          sortable: false,\r\n          value: \"balance\"\r\n\t\t}\r\n\t],\r\n      selectDeletedItem: null,\r\n\t  messageList: [],\r\n\tselectProduts: [],\r\n\tpictures:'',\r\n\tname: '',\r\n\ttotal: '',\r\n\tbalance: '',\r\n\tPaymoney:'',\r\n\tpayAgent: false,\r\n\tagentId:'',\r\n\tselectedAgent:[],\r\n\tpaymentMethod:[\r\n\t\t\"CASH\",\r\n\t\t\"MOMO\"\r\n\t],\r\n\tpayment: '',\r\n\tloading:false,\r\n\topenHistroy: false,\r\n\tpaymentHistoryData:[]\r\n    };\r\n  },\r\n  async created() {\r\n\t// this.getInvoice();\r\n\ttry {\r\n        const res = await auth.getAllAgents()\r\n        console.log(res.data.data)\r\n\t\t// console.log(res)\r\n\t\tres.data.data.forEach(el => {\r\n\t\t\t// console.log(el)\r\n\t\t\tif (el.agentData.balance >= 1000) {\r\n\t\t\t\tthis.balance= (el.agentData.balance/1000).toFixed(1)+'K'\r\n\t\t\t} else{\r\n\t\t\t\tthis.balance= el.agentData.balance\r\n\t\t\t}\r\n\t\t\tthis.messageList.push({\r\n\t\t\t  history: el.agentData.paymentLogs,\r\n\t\t\t//   history:[{\r\n\t\t\t// \t  amount:10000,\r\n\t\t\t// \t  paymentmethod:'MOMO',\r\n\t\t\t// \t  createAt:'2020-09-14T08:37:28.696Z',\r\n\t\t\t// \t  balance:7830\r\n\t\t\t//   },\r\n\t\t\t//   {\r\n\t\t\t// \t  amount:10000,\r\n\t\t\t// \t  paymentmethod:'MOMO',\r\n\t\t\t// \t  createAt:'2020-09-14T08:37:28.696Z',\r\n\t\t\t// \t  balance:7830\r\n\t\t\t//   },\r\n\t\t\t//   {\r\n\t\t\t// \t  amount:10000,\r\n\t\t\t// \t  paymentmethod:'MOMO',\r\n\t\t\t// \t  createAt:'2020-09-14T08:37:28.696Z',\r\n\t\t\t// \t  balance:7830\r\n\t\t\t//   }],\r\n\t\t\t  approved: el.agentData.approved,\r\n\t\t\t  balance: this.balance,\r\n\t\t      invoiceId: el._id,\r\n\t\t\t  firstName: el.firstName,\r\n\t\t\t  lastName: el.lastName,\r\n              code: el.code,\r\n            //   subject: el.subject,\r\n\t\t\t//   status: el.status,\r\n              email: el.email,\r\n            //   message:el.message\r\n\t\t\t  })\r\n\t\t\t//   console.log(el)\r\n\t\t\t  \r\n\t\t\t//   console.log()\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log(err)\r\n\t}\r\n  },\r\n  methods: {\r\n\t  checkPaymentHistrory(history){\r\n\t\t//   console.log(history)\r\n\t\tthis.paymentHistoryData=[]\r\n\t\thistory.forEach(el =>{\r\n\t\t\tconst dat = moment(el.createAt)\r\n\t\t\tconst time = moment(el.createAt)\r\n\t\t\tconst tt = time.format('LT')\r\n\t\t\tconst da = dat.format('L');\r\n\t\t\tconst date = tt + '' + ' '+ da\r\n\t\t\t// console.log(el)\r\n\t\t\tthis.paymentHistoryData.push({\r\n\t\t\t\ttime: date,\r\n\t\t\t\tamount: el.amount,\r\n\t\t\t\tpaymentmethod:el.paymentmethod,\r\n\t\t\t\tbalance: el.balance\r\n\t\t\t})\r\n\t\t})\r\n\t\t  this.openHistroy= true\r\n\t  },\r\n\tpayAnAGentOPen(item){\r\n\t\tthis.payAgent= true\r\n\t\tthis.agentId= item.invoiceId\r\n\t\tthis.selectedAgent={\r\n\t\t\tbalance:item.balance,\r\n\t\t\tfirstName:item.firstName,\r\n\t\t\tlastName:item.lastName,\r\n\t\t\tcode:item.code,\r\n\t\t\temail: item.email\r\n\t\t\t}\r\n\t\t// console.log(item)\r\n\t},\r\n\tasync payAgentt(){\r\n\t\ttry {\r\n\t\t\tthis.loading= true\r\n\t\t\t// console.log(this.agentId,this.Paymoney,this.payment)\r\n\t\t\tconst res = await auth.PayAgent(this.agentId,{amount: this.Paymoney,paymentMethod:this.payment})\r\n\t\t\tconsole.log(res)\r\n\t\t\t// this.loading= false\r\n\t\t\tlocation.reload(true)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t\tthis.loading= false\r\n\t\t}\r\n\t},\r\n    payingMethod() {\r\n        // this.selectedMessage=item.message\r\n        this.open=true\r\n    },\r\n    deleteItemFromInvoicesList(item) {\r\n      this.$refs.deleteConfirmationDialog.openDialog();\r\n      this.selectDeletedItem = item;\r\n    },\r\n    ondeleteItemFromInvoicesList() {\r\n      this.$refs.deleteConfirmationDialog.close();\r\n      let index = this.messageList.indexOf(this.selectDeletedItem);\r\n      this.messageList.splice(index, 1);\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./agent.vue?vue&type=template&id=601d2f49&scoped=true&\"\nimport script from \"./agent.vue?vue&type=script&lang=js&\"\nexport * from \"./agent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./agent.vue?vue&type=style&index=0&id=601d2f49&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"601d2f49\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n   <div>\r\n\t\t<div class=\"pa-4 pt-0 emb-card mb-6\">\r\n\t\t\t<v-row >\r\n\t\t\t\t<v-col cols=\"12\"\r\n\t\t\t\tsm=\"8\" md=\"5\" lg=\"5\">\r\n               <h4 class=\"mb-6\">All agents</h4>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"12\"\r\n\t\t\t\tsm=\"8\" md=\"5\" lg=\"5\">\r\n\t\t\t\t\t<v-text-field v-model=\"search\" label=\"Search\" single-line hide-details>\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t</div>\r\n       <div class=\"emb-card pa-4\">\r\n         <agent :search=\"search\"></agent>\r\n       </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\n   import agent from 'Components/Widgets/agent.vue'\r\n\r\n   export default {\r\n      data (){\r\n\t\t\treturn{\r\n            search:''\r\n\t\t\t}\r\n      },\r\n      components:{\r\n         agent\r\n      }\r\n   }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./agent.vue?vue&type=template&id=8b712b9e&\"\nimport script from \"./agent.vue?vue&type=script&lang=js&\"\nexport * from \"./agent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import api from './index.js'\r\n\r\nexport default {\r\n  async signin (data) {\r\n    const res= api().post('/api/auth/signin', data)\r\n    return res\r\n  },\r\n  async getAllAgents () {\r\n    const res= api().get('/api/auth/users/AGENT')\r\n    return res\r\n  },\r\n  async signup (data) {\r\n    return api().post('/api/auth/signup', data)\r\n  },\r\n  async PayAgent (id, data) {\r\n    return api().put(`/api/auth/pay-agent/${id}`, data)\r\n  },\r\n  async updateName (data) {\r\n    return api().put('/api/auth/name', data)\r\n  },\r\n  async updateEmail (data) {\r\n    return api().put('/api/auth/email', data)\r\n  },\r\n  async updatePassword (data) {\r\n    return api().put('/api/auth/password', data)\r\n  },\r\n  async updateDepartments (data) {\r\n    return api().put('/api/auth/departments', data)\r\n  }\r\n}\r\n"],"sourceRoot":""}