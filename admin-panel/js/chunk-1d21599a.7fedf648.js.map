{"version":3,"sources":["webpack:///./src/api/department.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/api/categories.js","webpack:///./src/views/AdminPanel/categoriesEdit.vue?66f2","webpack:///src/views/AdminPanel/categoriesEdit.vue","webpack:///./src/views/AdminPanel/categoriesEdit.vue?5661","webpack:///./src/views/AdminPanel/categoriesEdit.vue"],"names":["getDepartment","res","api","get","createDepartment","data","post","updateDepartment","id","put","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","getCategories","cerateCategories","updateCategories","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","avaliableDepartments","model","callback","$$v","assignedDepartments","expression","category","$set","on","$event","stopPropagation","preventDefault","editdep","staticRenderFns","checkbox","products","selectedProduct","selectedImage","selectedDepartmentId","resDept","methods","doHover","image","component"],"mappings":"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","file":"js/chunk-1d21599a.7fedf648.js","sourcesContent":["import api from './index.js'\r\n\r\nexport default {\r\n  async getDepartment () {\r\n    const res = api().get('/api/departments')\r\n    return res\r\n  },\r\n  async createDepartment (data) {\r\n    const res = api().post('/api/departments', data)\r\n    return res\r\n  },\r\n  async updateDepartment (data, id) {\r\n    const res = api().put(`/api/departments/${id}`, data)\r\n    return res\r\n  }\r\n}\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import api from './index.js'\r\n\r\nexport default {\r\n  async getCategories () {\r\n    const res = api().get('/api/categories')\r\n    return res\r\n  },\r\n  async cerateCategories (data) {\r\n    const res = api().post('/api/categories', data)\r\n    return res\r\n  },\r\n  async updateCategories (data, id) {\r\n    const res = api().put(`/api/categories/${id}`, data)\r\n    return res\r\n  },\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"emb-register-wrap section-gap\"},[_c('div',{staticClass:\"container py-0\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"md12\":\"\",\"lg8\":\"\",\"xl7\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"mx-sm-0\":\"\",\"mx-3\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm10\":\"\",\"md5\":\"\",\"lg6\":\"\",\"xl6\":\"\"}},[_c('div',{staticClass:\"emb-card sign-in-form form-margin d-block white pa-6\"},[_c('h4',[_vm._v(\"Enter Your Category details\")]),_c('v-form',{ref:\"form\"},[_c('v-select',{attrs:{\"prepend-icon\":\"edit\",\"items\":_vm.avaliableDepartments,\"label\":\"Departments\",\"dense\":\"\"},model:{value:(_vm.assignedDepartments),callback:function ($$v) {_vm.assignedDepartments=$$v},expression:\"assignedDepartments\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"edit\",\"label\":\"English Name* \",\"required\":\"\"},model:{value:(_vm.category.en),callback:function ($$v) {_vm.$set(_vm.category, \"en\", $$v)},expression:\"category.en\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"edit\",\"label\":\"kinyarwanda Name*\",\"required\":\"\"},model:{value:(_vm.category.kiny),callback:function ($$v) {_vm.$set(_vm.category, \"kiny\", $$v)},expression:\"category.kiny\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"edit\",\"label\":\"french Name*\",\"required\":\"\"},model:{value:(_vm.category.fr),callback:function ($$v) {_vm.$set(_vm.category, \"fr\", $$v)},expression:\"category.fr\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"edit\",\"label\":\"swahili Name*\",\"required\":\"\"},model:{value:(_vm.category.sw),callback:function ($$v) {_vm.$set(_vm.category, \"sw\", $$v)},expression:\"category.sw\"}}),_c('v-btn',{staticClass:\"accent mx-0 mb-4 mt-4\",attrs:{\"large\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.editdep($event)}}},[_vm._v(\" Save changes \")])],1)],1)])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"emb-register-wrap section-gap\">\r\n\t\t<div class=\"container py-0\">\r\n\t\t\t<v-layout row wrap align-center justify-center>\r\n\t\t\t\t<v-flex sm12 md12 lg8 xl7>\r\n\t\t\t\t\t<v-layout row mx-sm-0 mx-3  wrap align-center justify-center>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-flex sm10 md5 lg6 xl6>\r\n\t\t\t\t\t\t\t<div class=\"emb-card sign-in-form form-margin d-block white pa-6\">\r\n\t\t\t\t\t\t\t\t<h4>Enter Your Category details</h4>\r\n\t\t\t\t\t\t\t\t<v-form ref=\"form\" >\r\n                                    <v-select\r\n                                    prepend-icon=\"edit\"\r\n\t\t\t\t\t\t\t\t\t:items=\"avaliableDepartments\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Departments\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"assignedDepartments\"\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t></v-select>\r\n                                <v-text-field prepend-icon=\"edit\" label=\"English Name* \" v-model=\"category.en\" required></v-text-field>\r\n\t\t\t\t\t\t       <v-text-field prepend-icon=\"edit\" label=\"kinyarwanda Name*\" v-model=\"category.kiny\" required></v-text-field>\r\n\t\t\t\t\t\t       <v-text-field prepend-icon=\"edit\" label=\"french Name*\" v-model=\"category.fr\" required></v-text-field>\r\n                                <v-text-field prepend-icon=\"edit\" label=\"swahili Name*\" v-model=\"category.sw\" required></v-text-field>\r\n\t\t\t\t\t\t\t\t<v-btn class=\"accent mx-0 mb-4 mt-4\" large  @click.stop.prevent=\"editdep\">\r\n\t\t\t\t\t\t\t\t\t\tSave changes\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t</v-layout>\r\n\t\t\t\t</v-flex>\r\n\t\t\t</v-layout>\r\n\t\t</div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport Departments from \"Api/department\";\r\nimport Categories from \"Api/categories\";\r\nexport default {\r\n  data() {\r\n    return {\r\n        category: {\r\n                   en: '',\r\n                   fr: '',\r\n                   kiny: '',\r\n                   sw: '',\r\n                   },\r\n      checkbox: false,\r\n      products: null,\r\n      selectedProduct: null,\r\n      selectedImage: null,\r\n      avaliableDepartments: [],\r\n      assignedDepartments: '',\r\n      selectedDepartmentId:'',\r\n      resDept: null\r\n    };\r\n  },\r\n  async mounted() {\r\n\t// this.getProductsData();\r\n\ttry {\r\n\tthis.id = this.$route.params.id;\r\n    const res = await Categories.getCategories()\r\n\tres.data.data.forEach(el => {\r\n\t\tif (el._id === this.id) {\r\n            this.category.en = el.name.en,\r\n            this.category.fr = el.name.fr,\r\n            this.category.kiny = el.name.kiny\r\n            this.category.sw = el.name.sw\r\n            this.selectedDepartmentId = el.department\r\n            console.log(this.category)\r\n\t\t}\r\n    });\r\n    this.resDept = await Departments.getDepartment()\r\n    this.resDept.data.data.forEach(el => {\r\n        this.avaliableDepartments.push(el.name.kiny)\r\n        if (el._id === this.selectedDepartmentId) {\r\n            this.assignedDepartments = el.name.kiny\r\n        }\r\n    });\r\n\t} catch (err) {\r\n\t\tconsole.log(err.message)\r\n\t}\r\n  },\r\n  methods: {\r\n      async editdep() {\r\n          try {\r\n            this.resDept.data.data.forEach(el => {\r\n            if (el.name.kiny === this.assignedDepartments) {\r\n            this.selectedDepartmentId = el._id\r\n            }\r\n            });\r\n              const resUpdate = await Categories\r\n              .updateCategories({\r\n                 name: this.category,\r\n                 department: this.selectedDepartmentId \r\n            }, this.id)\r\n            console.log(resUpdate)\r\n            this.$router.push('/admin-panel/categories')\r\n          } catch (err) {\r\n              console.log(err.message)\r\n          }\r\n      },\r\n    /* for toggling image **/\r\n    doHover(image) {\r\n      this.selectedImage = image;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categoriesEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categoriesEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./categoriesEdit.vue?vue&type=template&id=4ae89a4e&\"\nimport script from \"./categoriesEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./categoriesEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}