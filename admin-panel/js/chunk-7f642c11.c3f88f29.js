(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f642c11"],{"0034":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"emb-register-wrap section-gap"},[r("div",{staticClass:"container py-0"},[r("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{sm12:"",md12:"",lg8:"",xl7:""}},[r("v-layout",{attrs:{row:"","mx-sm-0":"","mx-3":"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{sm10:"",md5:"",lg6:"",xl6:""}},[r("div",{staticClass:"emb-card sign-in-form form-margin d-block white pa-6"},[r("h4",[e._v("Enter Your Category details")]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-select",{attrs:{items:e.avaliableDepartments,label:"Departments",dense:""},model:{value:e.assignedDepartments,callback:function(t){e.assignedDepartments=t},expression:"assignedDepartments"}}),r("v-text-field",{attrs:{type:"text",placeholder:"English Name*",rules:e.inputRules.basictextRules},model:{value:e.category.en,callback:function(t){e.$set(e.category,"en",t)},expression:"category.en"}}),r("v-text-field",{attrs:{type:"text",placeholder:"Kinyarwanda Name*",rules:e.inputRules.basictextRules},model:{value:e.category.kiny,callback:function(t){e.$set(e.category,"kiny",t)},expression:"category.kiny"}}),r("v-text-field",{attrs:{type:"text",placeholder:"French Name*",rules:e.inputRules.basictextRules},model:{value:e.category.fr,callback:function(t){e.$set(e.category,"fr",t)},expression:"category.fr"}}),r("v-text-field",{attrs:{type:"text",placeholder:"Swahili Name*",rules:e.inputRules.basictextRules},model:{value:e.category.sw,callback:function(t){e.$set(e.category,"sw",t)},expression:"category.sw"}}),r("v-btn",{staticClass:"accent mx-0 mb-4 mt-4",attrs:{large:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.saveDetails(t)}}},[e._v(" create Category ")])],1)],1)])],1)],1)],1)],1)])},a=[],s=(r("4160"),r("b0c0"),r("159b"),r("96cf"),r("1da1")),c=r("0e8f"),i=r("66da"),u={data:function(){return{avaliableDepartments:[],assignedDepartments:null,selectedDepatmentsId:"",category:{en:"",fr:"",kiny:"",sw:""},resDep:null,valid:!1,inputRules:{basictextRules:[function(e){return!!e||"This field should not be empty"}]}}},methods:{saveDetails:function(){this.$refs.form.validate(),this.createDepartments()},createDepartments:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.resDep.data.data.forEach((function(t){t.name.kiny===e.assignedDepartments&&(e.selectedDepatmentsId=t._id)})),t.next=4,i["a"].cerateCategories({department:e.selectedDepatmentsId,name:e.category});case 4:r=t.sent,console.log(r),e.$snotify.success("Add departments process succesfull",{closeOnClick:!1,pauseOnHover:!1,timeout:20,showProgressBar:!1}),e.$router.push("/admin-panel/categories"),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.$router.push("/");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].getDepartment();case 3:e.resDep=t.sent,e.resDep.data.data.forEach((function(t){e.avaliableDepartments.push(t.name.kiny)})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},o=u,l=r("2877"),p=Object(l["a"])(o,n,a,!1,null,null,null);t["default"]=p.exports},"0e8f":function(e,t,r){"use strict";r("96cf");var n=r("1da1"),a=r("365c");t["a"]={getDepartment:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(a["a"])().get("/api/departments"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},createDepartment:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(a["a"])().post("/api/departments",e),t.abrupt("return",r);case 2:case"end":return t.stop()}}),t)})))()},updateDepartment:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=Object(a["a"])().put("/api/departments/".concat(t),e),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))()}}},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d3b7");function n(e,t,r,n,a,s,c){try{var i=e[s](c),u=i.value}catch(o){return void r(o)}i.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var c=e.apply(t,r);function i(e){n(c,a,s,i,u,"next",e)}function u(e){n(c,a,s,i,u,"throw",e)}i(void 0)}))}}},"66da":function(e,t,r){"use strict";r("96cf");var n=r("1da1"),a=r("365c");t["a"]={getCategories:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(a["a"])().get("/api/categories"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},cerateCategories:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(a["a"])().post("/api/categories",e),t.abrupt("return",r);case 2:case"end":return t.stop()}}),t)})))()},updateCategories:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=Object(a["a"])().put("/api/categories/".concat(t),e),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))()}}}}]);
//# sourceMappingURL=chunk-7f642c11.c3f88f29.js.map