(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dd70b4e"],{"1c30":function(e,t,a){"use strict";var s=a("1db9"),n=a.n(s);n.a},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d3b7");function s(e,t,a,s,n,r,i){try{var o=e[r](i),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(s,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){s(i,n,r,o,c,"next",e)}function c(e){s(i,n,r,o,c,"throw",e)}o(void 0)}))}}},"1db9":function(e,t,a){},6996:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pa-4 pt-0 emb-card mb-6"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"5",lg:"5"}},[a("h4",{staticClass:"mb-6"},[e._v("Messages From "),a("b",[e._v('"Contact us"')]),e._v(" page")])]),a("v-col",{attrs:{cols:"12",sm:"8",md:"5",lg:"5"}},[a("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),a("div",{staticClass:"emb-card pa-4"},[a("contact",{attrs:{search:e.search}})],1)])},n=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive"},[a("v-data-table",{attrs:{headers:e.headers,items:e.messageList,"items-per-page":15,search:e.search,align:"center"},scopedSlots:e._u([{key:"item.paid",fn:function(t){var s=t.item;return[a("v-btn",{staticClass:"primary",attrs:{small:"",tile:"",elevation:"0"},on:{click:function(t){return e.changePaidStatus(s,s.invoiceId)}}},[e._v(e._s(s.paid))])]}},{key:"item.status",fn:function(t){var s=t.item;return[a("v-select",{staticClass:"text-xs-sm",attrs:{items:e.Departments,dense:""},on:{change:function(t){return e.updateService(s.invoiceId,s.status)}},model:{value:s.status,callback:function(t){e.$set(s,"status",t)},expression:"item.status"}})]}},{key:"item.action",fn:function(t){var s=t.item;return[a("v-btn",{staticClass:"mr-3",attrs:{slot:"activator",text:"",icon:"",color:"grey",small:""},on:{click:function(t){return e.openMessage(s)}},slot:"activator"},[a("v-icon",{staticClass:"primary--text"},[e._v("remove_red_eye")])],1),a("v-btn",{attrs:{slot:"activator",text:"",icon:"",color:"grey",small:""},on:{click:function(t){return e.deleteItemFromInvoicesList(s)}},slot:"activator"},[a("v-icon",{staticClass:"error--text"},[e._v("delete")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("v-card",{staticClass:"py-6 px-4"},[a("p",[e._v(e._s(e.selectedMessage))]),a("v-card-actions",{staticClass:"layout justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.open=!1}}},[e._v("OK")])],1)],1)],1),a("emb-delete-confirmation-2",{ref:"deleteConfirmationDialog",attrs:{messageTitle:"Are You Sure You Want To Delete?",messageDescription:"Are you sure you want to delete this invoice permanently?",btn1:"Cancel",btn2:"Yes"},on:{onConfirm:e.ondeleteItemFromInvoicesList}})],1)},i=[],o=(a("4160"),a("c975"),a("a434"),a("159b"),a("96cf"),a("1da1")),c=a("5530"),l=a("365c"),u={getAllcontact:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(l["a"])().get("/api/messages"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()}},d=a("c1df"),m=a.n(d),v=a("2f62"),f={computed:Object(c["a"])({},Object(v["b"])(["linksformbackend"])),props:{search:{default:null,type:String}},data:function(){return{selectedMessage:"",open:null,Departments:["SENT","RECEIVED","CANCELED","TECHNICIAN-ON-THE-WAY","TECHNICIAN-AT-SITE","JOB-DONE"],editDialog:!1,invoiceList:null,headers:[{text:"Date",sortable:!1,value:"date"},{text:"First Name",sortable:!1,value:"firstName"},{text:"Last Name",sortable:!1,value:"lastName"},{text:"Subject",sortable:!1,value:"subject"},{text:"Reaad",sortable:!1,value:"paid"},{text:"Action",sortable:!1,value:"action"}],selectDeletedItem:null,messageList:[],selectProduts:[],pictures:"",name:"",total:""}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.getAllcontact();case 3:a=t.sent,console.log(a.data.data),a.data.data.forEach((function(t){console.log(t);var a=m()(t.updatedAt),s=m()(t.updatedAt),n=s.format("LT"),r=a.format("L"),i=n+" "+r;e.messageList.push({date:i,invoiceId:t._id,firstName:t.firstName,lastName:t.lastName,paid:t.read,subject:t.subject,status:t.status,email:t.email,message:t.message}),console.log(t)})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{openMessage:function(e){this.selectedMessage=e.message,this.open=!0},deleteItemFromInvoicesList:function(e){this.$refs.deleteConfirmationDialog.openDialog(),this.selectDeletedItem=e},ondeleteItemFromInvoicesList:function(){this.$refs.deleteConfirmationDialog.close();var e=this.messageList.indexOf(this.selectDeletedItem);this.messageList.splice(e,1)}}},p=f,b=(a("1c30"),a("2877")),g=Object(b["a"])(p,r,i,!1,null,"90b9a614",null),h=g.exports,x={data:function(){return{search:""}},components:{contact:h}},C=x,I=Object(b["a"])(C,s,n,!1,null,null,null);t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-1dd70b4e.ce592529.js.map