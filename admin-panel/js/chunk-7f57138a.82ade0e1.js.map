{"version":3,"sources":["webpack:///./src/views/Sessions/SignIn.vue?6956","webpack:///src/views/Sessions/SignIn.vue","webpack:///./src/views/Sessions/SignIn.vue?0224","webpack:///./src/views/Sessions/SignIn.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/api/auth.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","emailRules","model","value","callback","$$v","Email","expression","password","loading","on","$event","stopPropagation","preventDefault","signin","staticRenderFns","component","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","data","res","api","post","getAllAgents","get","signup","PayAgent","id","put","updateName","updateEmail","updatePassword","updateDepartments"],"mappings":"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","file":"js/chunk-7f57138a.82ade0e1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"emb-signIn-wrap section-gap\"},[_c('div',{staticClass:\"container py-0\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"md12\":\"\",\"lg8\":\"\",\"xl7\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"mx-sm-0\":\"\",\"mx-3\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"sm10\":\"\",\"md5\":\"\",\"lg5\":\"\",\"xl6\":\"\"}},[_c('div',{staticClass:\"emb-card sign-in-form form-margin d-block white pa-6\"},[_c('h4',[_vm._v(\"Reserved for Admin only\")]),_c('v-form',[_c('v-text-field',{attrs:{\"type\":\"email\",\"placeholder\":\"Email*\",\"rules\":_vm.emailRules},model:{value:(_vm.Email),callback:function ($$v) {_vm.Email=$$v},expression:\"Email\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"placeholder\":\"Password*\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{staticClass:\"accent mb-3 ma-0\",attrs:{\"loading\":_vm.loading,\"large\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.signin($event)}}},[_vm._v(\" Sign In \")])],1)],1)])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"emb-signIn-wrap section-gap\">\r\n\t\t<div class=\"container py-0\">\r\n\t\t\t<v-layout row wrap align-center justify-center>\r\n\t\t\t\t<v-flex sm12 md12 lg8 xl7>\r\n\t\t\t\t\t<v-layout row mx-sm-0 mx-3 wrap align-center justify-center>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-flex sm10 md5 lg5 xl6>\r\n\t\t\t\t\t\t\t<div class=\"emb-card sign-in-form form-margin d-block white pa-6\">\r\n\t\t\t\t\t\t\t\t<h4>Reserved for Admin only</h4>\r\n\t\t\t\t\t\t\t\t<v-form>\r\n\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email*\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"emailRules\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"Email\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password*\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-btn :loading=\"loading\" class=\"accent mb-3 ma-0\" @click.stop.prevent=\"signin\" large >\r\n\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t</v-layout>\r\n\t\t\t\t</v-flex>\r\n\t\t\t</v-layout>\r\n\t\t</div>\r\n   </div>\r\n</template>\r\n<script>\r\n\r\nimport auth from \"Api/auth\";\r\nimport axios from 'axios'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcheckbox: false,\r\n\t\t\t\tEmail: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tloading: false,\r\n\t\t\t\temailRules: [\r\n\t\t\t\t\tv => !!v || 'E-mail is required',\r\n\t\t\t\t\tv => /.+@.+/.test(v) || 'E-mail must be valid'\r\n      \t\t],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\tasync signin () {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading= true\r\n\t\t\t\tconst res = await auth.signin({\r\n\t\t\t\t\temail: this.Email,\r\n\t\t\t\t\tpassword: this.password\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconst data = res.data\r\n\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\tconst localData = {\r\n\t\t\t\t\t\tfirstName: data.data.user.firstName,\r\n\t\t\t\t\t\tlastName: data.data.user.lastName,\r\n\t\t\t\t\t\trole: data.data.user.role,\r\n\t\t\t\t\t\temail: data.data.user.email,\r\n\t\t\t\t\t\tdepartments: data.data.user.assignedDepartments\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlocalStorage.setItem('data', JSON.stringify(localData))\r\n\t\t\t\t\taxios.defaults.headers.common['Authorization'] = `Bearer ${data.data.token}`\r\n\t\t\t\t\t// sessionStorage.setItem('token', data.data.token)\r\n\t\t\t\t\tlocalStorage.setItem('token', data.data.token)\r\n\t\t\t\t\tthis.$snotify.success('SignIn process succesfully done',{\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    timeout: 1000,\r\n\t\t\t\t\tshowProgressBar:false,\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.$router.push('/admin-panel/invoices');\r\n\t\t\t\tthis.loading= false\r\n\t\t\t} catch (err) {\r\n\t\t\t// console.log(err)\r\n\t\t\t    this.$snotify.error(err.response.data.message,{\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    timeout: 1000,\r\n\t\t\t\t\tshowProgressBar:false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t}\r\n</script>\t\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=922df25c&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import api from './index.js'\r\n\r\nexport default {\r\n  async signin (data) {\r\n    const res= api().post('/api/auth/signin', data)\r\n    return res\r\n  },\r\n  async getAllAgents () {\r\n    const res= api().get('/api/auth/users/AGENT')\r\n    return res\r\n  },\r\n  async signup (data) {\r\n    return api().post('/api/auth/signup', data)\r\n  },\r\n  async PayAgent (id, data) {\r\n    return api().put(`/api/auth/pay-agent/${id}`, data)\r\n  },\r\n  async updateName (data) {\r\n    return api().put('/api/auth/name', data)\r\n  },\r\n  async updateEmail (data) {\r\n    return api().put('/api/auth/email', data)\r\n  },\r\n  async updatePassword (data) {\r\n    return api().put('/api/auth/password', data)\r\n  },\r\n  async updateDepartments (data) {\r\n    return api().put('/api/auth/departments', data)\r\n  }\r\n}\r\n"],"sourceRoot":""}