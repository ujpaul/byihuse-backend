(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-285fba3c"],{"07c9":function(e,t,a){},"0e8f":function(e,t,a){"use strict";a("96cf");var r=a("1da1"),n=a("365c");t["a"]={getDepartment:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(n["a"])().get("/api/departments"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},createDepartment:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/departments",e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})))()},updateDepartment:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=Object(n["a"])().put("/api/departments/".concat(t),e),a.abrupt("return",r);case 2:case"end":return a.stop()}}),a)})))()}}},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d3b7");function r(e,t,a,r,n,i,c){try{var s=e[i](c),o=s.value}catch(l){return void a(l)}s.done?t(o):Promise.resolve(o).then(r,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var c=e.apply(t,a);function s(e){r(c,n,i,s,o,"next",e)}function o(e){r(c,n,i,s,o,"throw",e)}s(void 0)}))}}},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var c=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||i(e)||Object(c["a"])(e)||s()}},"4c79":function(e,t,a){"use strict";a("96cf");var r=a("1da1"),n=a("365c");t["a"]={uploadProduct:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/products",e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})))()},updateProduct:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n["a"])().put("/api/products/".concat(t),e));case 1:case"end":return a.stop()}}),a)})))()},getOneProduct:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])().get("/api/products/".concat(e)));case 1:case"end":return t.stop()}}),t)})))()},getProducts:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(n["a"])().get("/api/products"));case 1:case"end":return e.stop()}}),e)})))()}}},"4f81":function(e,t,a){"use strict";var r=a("07c9"),n=a.n(r);n.a},"66da":function(e,t,a){"use strict";a("96cf");var r=a("1da1"),n=a("365c");t["a"]={getCategories:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(n["a"])().get("/api/categories"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},cerateCategories:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/categories",e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})))()},updateCategories:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=Object(n["a"])().put("/api/categories/".concat(t),e),a.abrupt("return",r);case 2:case"end":return a.stop()}}),a)})))()}}},c7ce:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"emb-product-add"},[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"9",md:"10",lg:"10"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("div",{staticClass:"product-images-wrap d-flex"},[a("div",{staticClass:"product-images mr-4"},[a("div",{staticClass:"thumb-wrap",attrs:{for:"upload"}},[a("v-img",{attrs:{src:e.fileOne,alt:"images",height:"70"}}),a("div",{staticClass:"edit-btn d-flex justify-center align-center"},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),a("input",{ref:"pic1",staticClass:"upload-img",attrs:{type:"file",id:"upload",accept:"image/*"},on:{change:e.selectpic}})],1),a("div",{staticClass:"thumb-wrap",attrs:{for:"upload"}},[a("v-img",{attrs:{src:e.filetwo,height:"70"}}),a("div",{staticClass:"edit-btn d-flex justify-center align-center"},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),a("input",{ref:"pic2",staticClass:"upload-img",attrs:{type:"file",id:"upload",accept:"image/*"},on:{change:e.selectpict}})],1),a("div",{staticClass:"thumb-wrap",attrs:{for:"upload"}},[a("v-img",{attrs:{src:e.filethree,height:"70"}}),a("div",{staticClass:"edit-btn d-flex justify-center align-center"},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),a("input",{ref:"pic3",staticClass:"upload-img",attrs:{type:"file",id:"upload",accept:"image/*"},on:{change:e.selectpich}})],1),a("div",{staticClass:"thumb-wrap",attrs:{for:"upload"}},[a("v-img",{attrs:{src:e.filefour,height:"70"}}),a("div",{staticClass:"edit-btn d-flex justify-center align-center"},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1),a("input",{ref:"pic4",staticClass:"upload-img",attrs:{type:"file",id:"upload",accept:"image/*"},on:{change:e.selectpicf}})],1)]),a("div",{staticClass:"product-preview-wrap"},[a("div",{attrs:{id:"mainPic"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.fileOne}})])])])]),a("v-col",{staticClass:"content-wrap pl-md-6",attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("router-link",{staticClass:"pt-4 d-block font-weight-medium",attrs:{to:"/admin-panel/products"}},[e._v("Back to Products ")]),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Name in english"},model:{value:e.pName.en,callback:function(t){e.$set(e.pName,"en",t)},expression:"pName.en"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Name in kinyawanda"},model:{value:e.pName.kiny,callback:function(t){e.$set(e.pName,"kiny",t)},expression:"pName.kiny"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Name in swahili"},model:{value:e.pName.sw,callback:function(t){e.$set(e.pName,"sw",t)},expression:"pName.sw"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Name in french"},model:{value:e.pName.fr,callback:function(t){e.$set(e.pName,"fr",t)},expression:"pName.fr"}}),a("v-select",{attrs:{"prepend-icon":"add",items:e.Departments,label:"Departments",dense:""},on:{change:e.fetchCategory},model:{value:e.assignedDepartments,callback:function(t){e.assignedDepartments=t},expression:"assignedDepartments"}}),a("v-select",{attrs:{"prepend-icon":"add",items:e.selectablecategories,label:"Categories",dense:""},on:{change:e.fetchcategories},model:{value:e.selectedcategory,callback:function(t){e.selectedcategory=t},expression:"selectedcategory"}}),a("v-select",{attrs:{"prepend-icon":"add",items:e.selectedCompany,label:"Company",dense:""},on:{change:e.fetchSelected},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-text-field",{staticClass:"price-input",attrs:{"prepend-icon":"add",placeholder:"Add Price"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Description in english"},model:{value:e.description.en,callback:function(t){e.$set(e.description,"en",t)},expression:"description.en"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Description in kinyawanda"},model:{value:e.description.kiny,callback:function(t){e.$set(e.description,"kiny",t)},expression:"description.kiny"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Description in swahili"},model:{value:e.description.sw,callback:function(t){e.$set(e.description,"sw",t)},expression:"description.sw"}}),a("v-text-field",{attrs:{"prepend-icon":"add",label:"Description in french"},model:{value:e.description.fr,callback:function(t){e.$set(e.description,"fr",t)},expression:"description.fr"}}),a("v-dialog",{attrs:{"max-width":"800"},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}},[a("v-card",{staticClass:"content-wrap pl-md-6 py-6 px-4"},[a("div",{staticClass:"title"},[e._v("Service:")]),e._l(e.serviceList,(function(t){return a("div",{key:t,staticClass:"servicesList"},[a("div",{staticClass:"servicetext ml-10 font-weight-medium"},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"money ml-10 accent--text font-weight-medium"},[a("emb-currency-sign"),e._v(" "+e._s(t.price))],1),a("div",{staticClass:"ml-10"},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.deleteItem(t)}}},[a("v-icon",{staticClass:"red--text"},[e._v("delete")])],1)],1)])})),a("div",{staticClass:"service"},[a("div",{attrs:{id:"outline"}},[a("v-text-field",{attrs:{id:"outline","prepend-icon":"add",label:"Service Details"},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}})],1),a("v-col",{staticClass:"ml-2",attrs:{cols:"6",sm:"3"}},[a("v-text-field",{staticClass:"accent--text price-input",attrs:{"prepend-icon":"add",placeholder:"Price"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveService(t)}},model:{value:e.priceservice,callback:function(t){e.priceservice=t},expression:"priceservice"}})],1),a("div",{staticClass:"mt-6 "},[a("v-btn",{attrs:{color:"accent"},on:{click:e.saveService}},[e._v("Add")])],1)],1),a("v-card-actions",{staticClass:"layout justify-center"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.service=!1}}},[e._v("Close")])],1)],2)],1),a("div",{staticClass:"mb-4"},[a("v-btn",{staticClass:"mx-3",attrs:{color:"accent",large:""},on:{click:e.addService}},[e._v("Additional service")])],1),a("v-btn",{staticClass:"mx-3",attrs:{color:"accent",large:""},on:{click:e.uploadProduct}},[e._v("Create")]),a("v-btn",{attrs:{color:"white",large:""}},[e._v("Discard")])],1)],1)],1)],1)],1)},n=[],i=(a("a4d3"),a("e01a"),a("4160"),a("c975"),a("a434"),a("b0c0"),a("159b"),a("2909")),c=(a("96cf"),a("1da1")),s=a("0e8f"),o=a("fcac"),l=a("66da"),d=a("4c79"),u={data:function(){return{fileOne:"https://via.placeholder.com/625x800",filetwo:"https://via.placeholder.com/625x800",filethree:"https://via.placeholder.com/625x800",filefour:"https://via.placeholder.com/625x800",pName:{en:"",sw:"",kiny:"",fr:""},price:"",assignedDepartments:"",data:"",assignedDepartmentsId:"",Departments:[],allcategories:[],selectablecategories:[],selectedcategory:"",selectedCompany:[],allCompany:"",assignedCategoriesId:"",selected:"",selectedid:"",description:{en:"",sw:"",kiny:"",fr:""},prictures:{pic1:"",pic2:"",pic3:"",pic4:""},service:!1,priceservice:"",serviceNumber:1,serviceList:[],details:""}},methods:{deleteItem:function(e){var t=this.serviceList.indexOf(e);this.serviceList.splice(t),console.log(e)},addService:function(){this.service=!0},deleteService:function(){this.serviceList=[],this.service=!1},saveService:function(){this.serviceList.push({name:this.details,price:this.priceservice}),this.details="",this.priceservice=""},fetchCategory:function(){var e=this;this.selectedcategory="",this.data.forEach((function(t){t.name.kiny===e.assignedDepartments&&(e.assignedDepartmentsId=t._id)})),this.allcategories.data.data.forEach((function(t){t.department===e.assignedDepartmentsId&&e.selectablecategories.push(t.name.kiny)}))},fetchSelected:function(){var e=this;this.allCompany.data.data.forEach((function(t){t.name===e.selected&&(e.selectedid=t._id,console.log(e.selectedid))}))},fetchcategories:function(){var e=this;this.allcategories.data.data.forEach((function(t){t.name.kiny===e.selectedcategory&&(e.assignedCategoriesId=t._id,console.log(e.assignedCategoriesId))}))},selectpic:function(e){var t=this,a=e.target.files[0],r=new FileReader;r.onload=function(e){t.fileOne=e.target.result,t.pictures.pic1=t.fileOne},a&&r.readAsDataURL(a)},selectpict:function(e){var t=this,a=e.target.files[0],r=new FileReader;r.onload=function(e){t.filetwo=e.target.result,t.pictures.pic1=t.filetwo},a&&r.readAsDataURL(a)},selectpich:function(e){var t=this,a=e.target.files[0],r=new FileReader;r.onload=function(e){t.filethree=e.target.result,t.pictures.pic1=t.filethree},a&&r.readAsDataURL(a)},selectpicf:function(e){var t=this,a=e.target.files[0],r=new FileReader;r.onload=function(e){t.filefour=e.target.result,t.pictures.pic1=t.filefour},a&&r.readAsDataURL(a)},uploadProduct:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("description",JSON.stringify(e.description)),t.prev=1,r=new FormData,r.append("description",JSON.stringify(e.description)),r.append("department",e.assignedDepartmentsId),r.append("category",e.assignedCategoriesId),r.append("company",e.selectedid),r.append("name",JSON.stringify(e.pName)),r.append("price",e.price),r.append("picture1",e.$refs.pic1.files[0]),r.append("picture2",e.$refs.pic2.files[0]),r.append("picture3",e.$refs.pic3.files[0]),r.append("picture4",e.$refs.pic4.files[0]),r.append("additionalServices",JSON.stringify(e.serviceList)),(a=console).log.apply(a,Object(i["a"])(r)),console.log(e.serviceList),t.next=17,d["a"].uploadProduct(r);case 17:n=t.sent,e.$snotify.success("".concat(n.data.message),{closeOnClick:!1,pauseOnHover:!1,timeout:1e3,showProgressBar:!1}),e.router.push("/admin-panel/products"),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](1),e.$snotify.error(t.t0.response.data.message,{closeOnClick:!1,pauseOnHover:!1,timeout:8e3,showProgressBar:!1});case 25:case"end":return t.stop()}}),t,null,[[1,22]])})))()}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getDepartment();case 3:return a=t.sent,t.next=6,a.data.data;case 6:return e.data=t.sent,e.data.forEach((function(t){e.Departments.push(t.name.kiny)})),t.next=10,l["a"].getCategories();case 10:return e.allcategories=t.sent,t.next=13,o["a"].getCompany();case 13:e.allCompany=t.sent,e.allCompany.data.data.forEach((function(t){e.selectedCompany.push(t.name)})),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.log(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()}},p=u,f=(a("4f81"),a("2877")),m=Object(f["a"])(p,r,n,!1,null,"2d7c1bf1",null);t["default"]=m.exports},fcac:function(e,t,a){"use strict";a("96cf");var r=a("1da1"),n=a("365c");t["a"]={getCompany:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(n["a"])().get("/api/companies"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},uploadCompany:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])().post("/api/companies",e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})))()}}}}]);
//# sourceMappingURL=chunk-285fba3c.3a8da5e4.js.map